{"ast":null,"code":"import { products } from \"../data/data\";\nimport { categories } from \"../data/data\";\nimport { createStore } from \"redux\";\nlet initialState = {\n  products,\n  cart: [],\n  cartCount: 0,\n  currItem: null,\n  categories\n};\n\nfunction cartReducer(state = initialState, action) {\n  switch (action.type) {\n    case \"AddToCart\":\n      const inCart = state.cart.find(item => item.id === action.payload.id ? true : false);\n      return { ...state,\n        cart: inCart ? state.cart.map(item => item.id === action.payload.id ? { ...item,\n          count: item.count + 1\n        } : item) : [...state.cart, { ...action.payload,\n          count: 1\n        }]\n      };\n\n    case \"DeleteItem\":\n      return { ...state,\n        cart: state.cart.filter(item => item.id !== action.payload.id)\n      };\n\n    case \"AdjustQty\":\n      return { ...state,\n        cart: state.cart.map(item => item.id === action.payload.id ? { ...item,\n          count: +action.payload.count\n        } : item)\n      };\n\n    default:\n      return state;\n  }\n}\n\nconst store = createStore(cartReducer);\nexport default store;","map":{"version":3,"sources":["C:/PAB/React/Affinity_task/shopping-cart/src/app/store.js"],"names":["products","categories","createStore","initialState","cart","cartCount","currItem","cartReducer","state","action","type","inCart","find","item","id","payload","map","count","filter","store"],"mappings":"AAAA,SAASA,QAAT,QAAyB,cAAzB;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAAQC,WAAR,QAA0B,OAA1B;AACA,IAAIC,YAAY,GAAG;AACfH,EAAAA,QADe;AAEfI,EAAAA,IAAI,EAAE,EAFS;AAGfC,EAAAA,SAAS,EAAC,CAHK;AAIfC,EAAAA,QAAQ,EAAG,IAJI;AAKfL,EAAAA;AALe,CAAnB;;AAOA,SAASM,WAAT,CAAqBC,KAAK,GAACL,YAA3B,EAAyCM,MAAzC,EAAgD;AAC5C,UAAQA,MAAM,CAACC,IAAf;AACI,SAAK,WAAL;AACI,YAAMC,MAAM,GAAGH,KAAK,CAACJ,IAAN,CAAWQ,IAAX,CAAiBC,IAAD,IAC3BA,IAAI,CAACC,EAAL,KAAYL,MAAM,CAACM,OAAP,CAAeD,EAA3B,GACE,IADF,GAEE,KAHS,CAAf;AAKD,aAAO,EACH,GAAGN,KADA;AAEHJ,QAAAA,IAAI,EAAEO,MAAM,GACVH,KAAK,CAACJ,IAAN,CAAWY,GAAX,CAAgBH,IAAD,IACbA,IAAI,CAACC,EAAL,KAAYL,MAAM,CAACM,OAAP,CAAeD,EAA3B,GACE,EAAC,GAAGD,IAAJ;AAAUI,UAAAA,KAAK,EAAGJ,IAAI,CAACI,KAAL,GAAa;AAA/B,SADF,GAEEJ,IAHJ,CADU,GAKV,CAAC,GAAGL,KAAK,CAACJ,IAAV,EAAgB,EAAC,GAAGK,MAAM,CAACM,OAAX;AAAoBE,UAAAA,KAAK,EAAE;AAA3B,SAAhB;AAPC,OAAP;;AASH,SAAK,YAAL;AACI,aAAO,EACH,GAAGT,KADA;AAEHJ,QAAAA,IAAI,EAAEI,KAAK,CAACJ,IAAN,CAAWc,MAAX,CAAmBL,IAAD,IACxBA,IAAI,CAACC,EAAL,KAAYL,MAAM,CAACM,OAAP,CAAeD,EADrB;AAFH,OAAP;;AAKJ,SAAK,WAAL;AACI,aAAO,EACH,GAAGN,KADA;AAEHJ,QAAAA,IAAI,EAAEI,KAAK,CAACJ,IAAN,CAAWY,GAAX,CAAgBH,IAAD,IACrBA,IAAI,CAACC,EAAL,KAAYL,MAAM,CAACM,OAAP,CAAeD,EAA3B,GACE,EAAC,GAAGD,IAAJ;AAAUI,UAAAA,KAAK,EAAE,CAACR,MAAM,CAACM,OAAP,CAAeE;AAAjC,SADF,GAEEJ,IAHI;AAFH,OAAP;;AAOJ;AACI,aAAOL,KAAP;AA/BR;AAiCH;;AAED,MAAMW,KAAK,GAAGjB,WAAW,CAACK,WAAD,CAAzB;AAEA,eAAeY,KAAf","sourcesContent":["import { products } from \"../data/data\";\r\nimport { categories } from \"../data/data\";\r\nimport {createStore} from \"redux\";\r\nlet initialState = {\r\n    products,\r\n    cart: [],\r\n    cartCount:0,\r\n    currItem : null,\r\n    categories,\r\n}\r\nfunction cartReducer(state=initialState, action){\r\n    switch (action.type) {\r\n        case \"AddToCart\": \r\n            const inCart = state.cart.find((item) =>\r\n                item.id === action.payload.id \r\n                ? true\r\n                : false)\r\n\r\n           return {\r\n               ...state,\r\n               cart: inCart\r\n               ? state.cart.map((item) => \r\n                   item.id === action.payload.id \r\n                   ? {...item, count : item.count + 1} \r\n                   : item)\r\n               : [...state.cart, {...action.payload, count: 1}]\r\n           };\r\n        case \"DeleteItem\":\r\n            return {\r\n                ...state,\r\n                cart: state.cart.filter((item)=>\r\n                item.id !== action.payload.id)\r\n            }\r\n        case \"AdjustQty\":\r\n            return {\r\n                ...state,\r\n                cart: state.cart.map((item)=> \r\n                item.id === action.payload.id \r\n                ? {...item, count: +action.payload.count}\r\n                : item)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nconst store = createStore(cartReducer);\r\n\r\nexport default store;\r\n"]},"metadata":{},"sourceType":"module"}