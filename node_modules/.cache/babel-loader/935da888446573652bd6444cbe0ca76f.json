{"ast":null,"code":"import _slicedToArray from\"C:/PAB/React/Affinity_task/blablacart/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{connect}from\"react-redux\";import\"./HomePage.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function HomePage(props){var products=props.products,categories=props.categories;var _useState=useState(\"All\"),_useState2=_slicedToArray(_useState,2),currentCategory=_useState2[0],setCurrentCategory=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),productsToDispay=_useState4[0],setProducts=_useState4[1];var handleCategory=function handleCategory(category){setCurrentCategory(category);if(category===\"All\"){setProducts(products);return;}var filteredProducts=products.filter(function(obj){return obj.category===category;});setProducts(filteredProducts);};useEffect(function(){setProducts(products);},[products]);return/*#__PURE__*/_jsxs(\"div\",{className:\"main\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"category-all\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"category\",children:\"Categories\"}),categories.map(function(category,index){return/*#__PURE__*/_jsx(\"div\",{className:\"category\",onClick:function onClick(){return handleCategory(category);},children:category},index);})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"category-type\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Products under \",/*#__PURE__*/_jsxs(\"strong\",{children:[currentCategory,\" category\"]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"products\",children:productsToDispay.map(function(productObj){return/*#__PURE__*/_jsxs(\"div\",{className:\"product\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"productImage\",src:productObj.image,alt:productObj.title}),/*#__PURE__*/_jsx(\"span\",{className:\"productName\",children:productObj.title}),/*#__PURE__*/_jsx(\"button\",{className:\"addToCart\",onClick:function onClick(){return props.addItemToCart(productObj);},children:\"Add to cart\"})]},productObj.id);})})]})]});}var mapStateToProps=function mapStateToProps(store){return store;};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{addItemToCart:function addItemToCart(item){return dispatch({type:\"AddToCart\",payload:item});}};};export default connect(mapStateToProps,mapDispatchToProps)(HomePage);","map":{"version":3,"sources":["C:/PAB/React/Affinity_task/blablacart/src/Components/homepage/HomePage.jsx"],"names":["React","useState","useEffect","connect","HomePage","props","products","categories","currentCategory","setCurrentCategory","productsToDispay","setProducts","handleCategory","category","filteredProducts","filter","obj","map","index","productObj","image","title","addItemToCart","id","mapStateToProps","store","mapDispatchToProps","dispatch","item","type","payload"],"mappings":"4JAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAO,gBAAP,C,wFAEA,QAASC,CAAAA,QAAT,CAAkBC,KAAlB,CAAyB,CACvB,GAAKC,CAAAA,QAAL,CAA6BD,KAA7B,CAAKC,QAAL,CAAeC,UAAf,CAA6BF,KAA7B,CAAeE,UAAf,CACA,cAA+CN,QAAQ,CAAC,KAAD,CAAvD,wCAAOO,eAAP,eAAwBC,kBAAxB,eACA,eAAwCR,QAAQ,CAAC,EAAD,CAAhD,yCAAOS,gBAAP,eAAyBC,WAAzB,eAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,QAAD,CAAc,CACnCJ,kBAAkB,CAACI,QAAD,CAAlB,CACA,GAAIA,QAAQ,GAAG,KAAf,CAAqB,CACnBF,WAAW,CAACL,QAAD,CAAX,CACA,OACD,CACD,GAAIQ,CAAAA,gBAAgB,CAAGR,QAAQ,CAACS,MAAT,CAAgB,SAACC,GAAD,CAAO,CAC5C,MAAOA,CAAAA,GAAG,CAACH,QAAJ,GAAiBA,QAAxB,CACD,CAFsB,CAAvB,CAGAF,WAAW,CAACG,gBAAD,CAAX,CACD,CAVD,CAWAZ,SAAS,CAAC,UAAM,CACdS,WAAW,CAACL,QAAD,CAAX,CACD,CAFQ,CAEP,CAACA,QAAD,CAFO,CAAT,CAGA,mBACE,aAAK,SAAS,CAAC,MAAf,wBACI,aAAK,SAAS,CAAC,cAAf,wBACE,YAAK,SAAS,CAAC,UAAf,wBADF,CAGIC,UAAU,CAACU,GAAX,CAAe,SAACJ,QAAD,CAAWK,KAAX,CAAmB,CAChC,mBAAO,YAAiB,SAAS,CAAC,UAA3B,CAAsC,OAAO,CAAE,yBAAIN,CAAAA,cAAc,CAACC,QAAD,CAAlB,EAA/C,UAA8EA,QAA9E,EAAUK,KAAV,CAAP,CACD,CAFD,CAHJ,GADJ,cASI,aAAK,SAAS,CAAC,SAAf,wBACI,YAAK,SAAS,CAAC,eAAf,uBACE,uDAAqB,0BAASV,eAAT,eAArB,GADF,EADJ,cAII,YAAK,SAAS,CAAC,UAAf,UAEGE,gBAAgB,CAACO,GAAjB,CAAqB,SAACE,UAAD,CAAgB,CACpC,mBACE,aACA,SAAS,CAAC,SADV,wBAIE,YAAK,SAAS,CAAC,cAAf,CAA8B,GAAG,CAAEA,UAAU,CAACC,KAA9C,CAAqD,GAAG,CAAED,UAAU,CAACE,KAArE,EAJF,cAKE,aAAM,SAAS,CAAC,aAAhB,UAA+BF,UAAU,CAACE,KAA1C,EALF,cAME,eAAQ,SAAS,CAAC,WAAlB,CAA8B,OAAO,CAAE,yBAAMhB,CAAAA,KAAK,CAACiB,aAAN,CAAoBH,UAApB,CAAN,EAAvC,yBANF,GAEKA,UAAU,CAACI,EAFhB,CADF,CAUD,CAXA,CAFH,EAJJ,GATJ,GADF,CAiCD,CAED,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAAW,CACjC,MAAOA,CAAAA,KAAP,CACD,CAFD,CAGA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,QAAD,CAAc,CACvC,MAAO,CACLL,aAAa,CAAE,uBAACM,IAAD,QAAUD,CAAAA,QAAQ,CAAC,CAACE,IAAI,CAAE,WAAP,CAAoBC,OAAO,CAAEF,IAA7B,CAAD,CAAlB,EADV,CAAP,CAGD,CAJD,CAKA,cAAezB,CAAAA,OAAO,CAACqB,eAAD,CAAkBE,kBAAlB,CAAP,CAA6CtB,QAA7C,CAAf","sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport \"./HomePage.css\"\r\n\r\nfunction HomePage(props) {\r\n  let {products, categories} = props;\r\n  const [currentCategory, setCurrentCategory]  = useState(\"All\");  \r\n  const [productsToDispay, setProducts] = useState([]);\r\n \r\n  const handleCategory = (category) => {\r\n    setCurrentCategory(category)\r\n    if (category===\"All\"){\r\n      setProducts(products)\r\n      return ;\r\n    } \r\n    let filteredProducts = products.filter((obj)=>{\r\n      return obj.category === category;\r\n    })\r\n    setProducts(filteredProducts);\r\n  }\r\n  useEffect(() => {\r\n    setProducts(products);\r\n  },[products]);\r\n  return (\r\n    <div className=\"main\">\r\n        <div className=\"category-all\">\r\n          <div className=\"category\">Categories</div>\r\n          {\r\n            categories.map((category, index)=>{\r\n              return <div key={index} className=\"category\" onClick={()=>handleCategory(category)}>{category}</div>\r\n            })\r\n          }\r\n        </div>\r\n        <div className=\"content\">\r\n            <div className=\"category-type\">\r\n              <span>Products under <strong>{currentCategory} category</strong></span> \r\n            </div>\r\n            <div className=\"products\">\r\n\r\n              {productsToDispay.map((productObj) => {\r\n                return (\r\n                  <div\r\n                  className=\"product\"\r\n                  key={productObj.id}>\r\n\r\n                    <img className=\"productImage\" src={productObj.image} alt={productObj.title} />\r\n                    <span className=\"productName\">{productObj.title}</span>\r\n                    <button className=\"addToCart\" onClick={() => props.addItemToCart(productObj)}>Add to cart</button>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n      </div>\r\n    </div>\r\n    \r\n  );\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n  return store;\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addItemToCart: (item) => dispatch({type: \"AddToCart\", payload: item})\r\n  }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePage);\r\n"]},"metadata":{},"sourceType":"module"}