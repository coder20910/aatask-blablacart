{"ast":null,"code":"import _toConsumableArray from\"C:/PAB/React/Affinity_task/blablacart/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:/PAB/React/Affinity_task/blablacart/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{products}from\"../data/data\";import{categories}from\"../data/data\";import{createStore}from\"redux\";var initialState={products:products,cart:[],cartCount:0,currItem:null,categories:categories};function cartReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case\"AddToCart\":var inCart=state.cart.find(function(item){return item.id===action.payload.id?true:false;});return _objectSpread(_objectSpread({},state),{},{cart:inCart?_toConsumableArray(state.cart):[].concat(_toConsumableArray(state.cart),[_objectSpread(_objectSpread({},action.payload),{},{count:1})])});case\"DeleteItem\":return _objectSpread(_objectSpread({},state),{},{cart:state.cart.filter(function(item){return item.id!==action.payload.id;})});case\"AdjustQty\":return _objectSpread(_objectSpread({},state),{},{cart:state.cart.map(function(item){return item.id===action.payload.id?_objectSpread(_objectSpread({},item),{},{count:+action.payload.count}):item;})});default:return state;}}var store=createStore(cartReducer);export default store;","map":{"version":3,"sources":["C:/PAB/React/Affinity_task/blablacart/src/app/store.js"],"names":["products","categories","createStore","initialState","cart","cartCount","currItem","cartReducer","state","action","type","inCart","find","item","id","payload","count","filter","map","store"],"mappings":"+TAAA,OAASA,QAAT,KAAyB,cAAzB,CACA,OAASC,UAAT,KAA2B,cAA3B,CACA,OAAQC,WAAR,KAA0B,OAA1B,CACA,GAAIC,CAAAA,YAAY,CAAG,CACfH,QAAQ,CAARA,QADe,CAEfI,IAAI,CAAE,EAFS,CAGfC,SAAS,CAAC,CAHK,CAIfC,QAAQ,CAAG,IAJI,CAKfL,UAAU,CAAVA,UALe,CAAnB,CAOA,QAASM,CAAAA,WAAT,EAAgD,IAA3BC,CAAAA,KAA2B,2DAArBL,YAAqB,IAAPM,CAAAA,MAAO,2CAC5C,OAAQA,MAAM,CAACC,IAAf,EACI,IAAK,WAAL,CACI,GAAMC,CAAAA,MAAM,CAAGH,KAAK,CAACJ,IAAN,CAAWQ,IAAX,CAAgB,SAACC,IAAD,QAC3BA,CAAAA,IAAI,CAACC,EAAL,GAAYL,MAAM,CAACM,OAAP,CAAeD,EAA3B,CACE,IADF,CAEE,KAHyB,EAAhB,CAAf,CAKD,sCACON,KADP,MAEIJ,IAAI,CAAEO,MAAM,oBACNH,KAAK,CAACJ,IADA,+BAENI,KAAK,CAACJ,IAFA,kCAEUK,MAAM,CAACM,OAFjB,MAE0BC,KAAK,CAAE,CAFjC,IAFhB,GAMH,IAAK,YAAL,CACI,sCACOR,KADP,MAEIJ,IAAI,CAAEI,KAAK,CAACJ,IAAN,CAAWa,MAAX,CAAkB,SAACJ,IAAD,QACxBA,CAAAA,IAAI,CAACC,EAAL,GAAYL,MAAM,CAACM,OAAP,CAAeD,EADH,EAAlB,CAFV,GAKJ,IAAK,WAAL,CACI,sCACON,KADP,MAEIJ,IAAI,CAAEI,KAAK,CAACJ,IAAN,CAAWc,GAAX,CAAe,SAACL,IAAD,QACrBA,CAAAA,IAAI,CAACC,EAAL,GAAYL,MAAM,CAACM,OAAP,CAAeD,EAA3B,gCACMD,IADN,MACYG,KAAK,CAAE,CAACP,MAAM,CAACM,OAAP,CAAeC,KADnC,GAEEH,IAHmB,EAAf,CAFV,GAOJ,QACI,MAAOL,CAAAA,KAAP,CA5BR,CA8BH,CAED,GAAMW,CAAAA,KAAK,CAAGjB,WAAW,CAACK,WAAD,CAAzB,CAEA,cAAeY,CAAAA,KAAf","sourcesContent":["import { products } from \"../data/data\";\r\nimport { categories } from \"../data/data\";\r\nimport {createStore} from \"redux\";\r\nlet initialState = {\r\n    products,\r\n    cart: [],\r\n    cartCount:0,\r\n    currItem : null,\r\n    categories,\r\n}\r\nfunction cartReducer(state=initialState, action){\r\n    switch (action.type) {\r\n        case \"AddToCart\": \r\n            const inCart = state.cart.find((item) =>\r\n                item.id === action.payload.id \r\n                ? true\r\n                : false)\r\n\r\n           return {\r\n               ...state,\r\n               cart: inCart\r\n               ? [...state.cart]\r\n               : [...state.cart, {...action.payload, count: 1}]\r\n           };\r\n        case \"DeleteItem\":\r\n            return {\r\n                ...state,\r\n                cart: state.cart.filter((item)=>\r\n                item.id !== action.payload.id)\r\n            }\r\n        case \"AdjustQty\":\r\n            return {\r\n                ...state,\r\n                cart: state.cart.map((item)=> \r\n                item.id === action.payload.id \r\n                ? {...item, count: +action.payload.count}\r\n                : item)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nconst store = createStore(cartReducer);\r\n\r\nexport default store;\r\n"]},"metadata":{},"sourceType":"module"}